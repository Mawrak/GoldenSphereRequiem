[logic]
active = ph_door@locked1

[ph_door@locked1]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = x18_toilet_door_locked
on_info = {+subject_weak_3_first_talk} ph_door@locked2

[ph_door@locked2]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = x18_toilet_door_locked
on_timer      = 30000 | ph_door@open1 %+x18toilet_door_opened%

[ph_door@open1]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_info = {+subj4_near_radpit} ph_door@locked3



[ph_door@locked3]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = x18_toilet_door_locked
on_info = {+subject4_dead} ph_door@free




[ph_door@close]
locked = false
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = x18_toilet_door_locked
on_use = ph_door@open


[ph_door@open]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
on_use = ph_door@close


[ph_door@free]
locked = false
closed = true
no_force = true
on_use = ph_door@open