[logic]
active = ph_door@locked1

[ph_door@locked1]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = predb_firest_kazarma_undegr_door_use
on_use = {+predb_marouder_search} ph_door@locked2 %=predb_firest_undegr_door_think +predb_firest_undegr_door_finded%, {+predb_marod1_pda_info} ph_door@locked2 %=predb_firest_undegr_door_think +predb_firest_undegr_door_finded%

[ph_door@locked2]
locked = true
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
tip_open = predb_firest_kazarma_undegr_door_use
on_info = {+predb_marouder_door_open} ph_door@open


[ph_door@close]
locked = false
closed = true
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
show_tips = true
;tip_open = dar_building_generator_door_use
on_use = ph_door@open

[ph_door@open]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
;on_use = ph_door@close


[ph_door@free]
locked = false
closed = true
no_force = true
on_use = ph_door@open